// Recursive fibonaci 

function main()
{
    call fib(4) --> r2
}

function fib(n)
{
    variable f1
    variable f1
    
    // Base condition 
    // if n = 0, return 0
    mov n --> r1

    // if r1 > 0, goto KeepGoing 
    jmp.if KeepGoing r1

    return 0

KeepGoing:    
    add r1 -1 --> r1
    call fib(r1) --> f1

    mov n --> r1
    add r1 -2 --> r1
    call fib(r1) --> f2

    mov f1 --> r1
    mov f1 --> r2

    add r1 r2 --> r3

    return r3
}